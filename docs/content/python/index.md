---
title: Python
outline: deep
---

# Python

## 字面量

![数据类型](/assets/python/images/数据类型.png)

## 注释

1. 单行注释：`#`
2. 多行注释：`'''` 或 `"""`

## 变量
>在程序运行时，能储存计算结果或能表示值的抽象概念。简单的说，变量就是在程序运行时，记录数据用的

`变量名 = 值`
- 变量名：只能包含字母、数字和下划线，且不能以数字开头
- 变量类型：动态语言，变量类型不固定，可以随时改变
- 变量作用域：局部变量、全局变量、内置变量

## 数据类型

:::tip
`string`（字符串）、`integer`（整数）、`float`（浮点数）、`boolean`（布尔值）、`list`（列表）、`tuple`（元组）、`set`（集合）、`dict`（字典）
:::

我们通过type(变量)可以输出类型，这是查看变量的类型还是数据的类型？

查看的是：变量存储的数据的类型。因为，变量无类型，但是它存储的数据有。

**`type()` 函数可以用来获取变量的类型。**

```python
type(123)  # <class 'int'>
type('hello')  # <class'str'>
type(3.14)  # <class 'float'>
type(True)  # <class 'bool'>
type([1, 2, 3])  # <class 'list'>
type((1, 2, 3))  # <class 'tuple'>
type({1, 2, 3})  # <class'set'>
type({'name': 'Alice', 'age': 20})  # <class 'dict'>  
```

## 数据类型转换

```python
int('123')  # 123
str(123)  # '123'
float(123)  # 123.0
bool(1)  # True
bool(0)  # False
list('hello')  # ['h', 'e', 'l', 'l', 'o']
tuple('hello')  # ('h', 'e', 'l', 'l', 'o')
set('hello')  # {'l', 'o', 'h', 'e'}
dict([('name', 'Alice'), ('age', 20)])  # {'name': 'Alice', 'age': 20}
```

## 标识符

1. 大小写敏感
2. 不能以数字开头
3. 不能使用关键字
4. 不能使用特殊字符

标识符命名中，只允许出现：
- 英文
- 中文
- 数字
- 下划线`_`

## 运算符

- 算术运算符：`+`、`-`、`*`、`/`、`//`(取整)、`%` (取余)、`**`
- 赋值运算符：`=`、`+=`、`-=`、`*=`、`/=`、`//=`、`%=`、`**=`
- 位移运算符：`<<`、`>>`
- 增量赋值运算符：`++`、 `--`
- 关系运算符：`==`、`!=`、`>`、`>=`、`<=`
- 逻辑运算符：`and`、`or`、`not`
- 位运算符：`&`、`|`、`^`、`~`、`<<`、`>>`
- 成员运算符：`in`、`not in`
- 身份运算符：`is`、`is not`

## 字符串扩展

1. 字符串连接：`+`
2. 字符串重复：`*`
3. 字符串切片：`[start:end:step]`
4. 字符串格式化：`%`(占位符) `"你好：%s" % ('小明')`
    - `%s` 字符串
    - `%d` 整数
    - `%f` 浮点数
    - `%x` 十六进制整数
    - `%o` 八进制整数
    - `%e` 科学计数法
 5. 快速字符串：`f"内容{变量}"` (不需要精度控制)

### 数字精度控制
我们可以使用辅助符号"m.n"来控制数据的宽度和精度
- m,控制宽度，要求是数字（很少使用），设置的宽度小于数字自身，不生效
- .n,控制小数点精度，要求是数字，会进行小数的四舍五入

示例：
- `%5d`:表示将整数的宽度控制在5位，如数字11，被设置为5d,就会变成：`[空格][空格][空格]11`，用三个空格补足宽度。
- `%5.2f`:表示将浮点数的宽度控制在5位，小数点后精度控制在2位，如数字3.1415926，被设置为5.2f,就会变成：`[空格]3.14`。
- `%.2f`:表示将浮点数的精度控制在2位，如数字3.1415926，被设置为.2f,就会变成：3.14。

```python
# 保留两位小数
print('{:.2f}'.format(3.1415926))  # 3.14

"""
{:.2f}'.format(3.141592653589793)是Python中字符串格式化的语法。在这个语法中：

· {}表示一个占位符，它将由format方法中的相应参数替换。
· :在占位符中引导后续的格式化选项。
· .2f表示格式化为浮点数，保留两位小数。

简单来说，这个表达式将数字3.141592653589793格式化为字符串，并保留两位小数，输出结果为'3.14'。

"""

```

### 表达式的格式化

1. `str.format()` 方法：`"{0} {1}".format("hello", "world")`

2. 字符串模板：`f"hello {len(name)}"`

3. `("1 * 1 的结果是: %d" % (1 * 1))`

## 数据输入

1. 标准输入：`input()`

使用input()语句可以从键盘获取输入使用一个变量接收（存储）iput语句获取的键盘输入数据即可

2. 文件输入：`open()`

## 布尔类型和比较运算符

布尔类型只有两个值：`True`和`False`，可以进行逻辑运算，比较运算符可以进行数值比较。

- 比较运算符：`==`、`!=`、`>`、`<` 、`>=`、`<=` 

## if语句的基本格式

> 如果条件成立，则执行if语句块中的代码；否则，执行else语句块中的代码。

```python {2,4,6}
if 条件表达式:
    语句块1 
elif 条件表达式:
    语句块2
else:
    语句块3
```

### 判断语句的嵌套

```python {2,4,6,8,10}
if 条件表达式1:
    语句块1
    if 条件表达式2:
        语句块2
    else:
        语句块3
else:
    语句块4
```
示例：

```python
print('欢迎ikun网咖！')
if int(input("请输入你的年龄：")) >= 18:
    print("你已经成年，如果身高符合要求，你才可以正常上网！")
    if int(input("请输入你的身高(厘米)：")) >= 170:
        print("你已经达到了身高标准，可以正常上网了！")
    else:
        print("你还未达到身高标准，请回吧！")
else:
    print("你还未成年，请在成年后再来！")

```

## while循环的基础应用

> 重复执行语句块，直到条件表达式为False。

```python {2-3}
while 条件表达式:
    语句块
    while 条件表达式:
        语句块
        break # 跳出当前循环
    if 条件bool表达式:
      continue  # 跳过当前循环，继续下一次循环
```

:::info 知识补充：
print输出不换行

在print()函数中，如果要输出多个值，中间用逗号隔开，默认会自动加上空格，如果要输出不换行，可以用`end=''`参数。

```python
print('hello', end='')
print('world')
```

输出结果：
```
helloworld
```
:::

### 九九乘法表
:::code-group

```python [while循环]
i = 1 #层数
while i <= 9:
    j = 1
    while j <= i:
        print(f"{j}*{i}={i * j}\t", end="")
        j += 1
    print('\n')
    i += 1
```

```python [range()函数]
for i in range(1, 10):
    for j in range(1, i+1):
        print('{0}x{1}={2}\t'.format(j, i, i*j), end='')
    print()
```

:::

## for循环的基础语法

除了while循环语句外，Python同样提供了for循环语句。

两者能完成的功能基本差不多，但仍有一些区别：
- while循环的循环条件是自定义的，**自行控制循环条件** 
- for循环是一种”轮询”机制，是对一批内容进行 **逐一处理**

:::tip
同while循环不同，for循环是无法定义循环条件的。只能从被处理的数据集中，依次取出内容进行处理。所以，理论上讲，Python的for循环无法构建无限循环（被处理的数据集不可能无限大）
:::

```python {2-3}
for 临时变量 in 可迭代对象:
    语句块
    for 变量 in 可迭代对象:
        语句块
        break # 跳出当前循环
    if 条件bool表达式:
      continue  # 跳过当前循环，继续下一次循环

name = 'John'
for i in name:
    print(i)

输出结果：
J
o
h
n


```
```python
name = 'itheima is a brand of itcast'
total = 0
# 1. 统计字符串中字母的个数
for i in name:
    if i == 'a':
        total += 1

print(f"字母 'a' 出现了 {total}")
```
### range()函数

> for循环语句，本质上是遍历：序列类型 

尽管除字符串外，其它的序列类型目前没学习到，但是不妨碍我们通过 **学习range语句，获得一个简单的数字序列**。

`range()`函数可以生成一个整数序列，可以用于for循环的循环条件。

语法：`range(start, stop, [,step])`

- `start`：起始值，默认为0, 可以省略
- `stop`：终止值，**不包含**在序列中
- `step`：步长，默认为1


```python
for i in range(1, 10):
    print(i)
```


### 变量作用域

1. 局部变量：在函数内部定义的变量，只能在函数内部访问，函数执行完毕，变量就消失了。
2. 全局变量：在函数外部定义的变量，可以在整个程序范围内访问。
3. 内置变量：Python预定义的变量，比如`__name__`、`__doc__`等。

```js
for i in range(1, 10):
    print(i)
print(i) // [!code error]

回看for循环的语法，我们会发现，将从数据集 (序列)中取出的数据赋值给：临时变量为什么是临时的呢？

i应该只在for循环内部使用，而不能在外部使用，所以，i是临时的。

如果我们想在外部使用i，那我们就需要将i定义为全局变量。

但是实际上却是能访问到的。这是不允许的，属于是变量提升了。

```
