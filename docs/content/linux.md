---
outline: deep
---

# Linux <Badge type="tip" text="Linux" />

> 只有一个根目录`/`,所有文件都在它下面

## linux 的路径描述方式

linux：`:/` /etc/

wubdiws：`:\` #D:\data\

# linux 命令入门

## 命令基础

> ···

`command [-options] [parameter]`

command:命令本身

options:命令的一些选项，可以通过选项控制行为细节

parameter：命令的参数

[]，表示可选的意思

例：

```
ls -l /home/itheima
cp -r test1 test2 cp是命令本身，-r是选项，test和test2是参数，意思是复制文件夹test1成为test2

```

## 命令入门

ls：列出目录下的内容

`ls [-a -l -h] [linux 路径]`

- -a 选项，表示：all 的意思，全部的文件列出来
- -l 以列表形式排列展示内容
- -h 表示以易于阅读，格式化文件大小。必须跟 l 搭配使用

语法种的选项是可以组合使用的

- ls -l -a
- ls -la
- ls -al

## Home 目录和工作目录

home 目录：每个 linux 操作用户在 linux 系统的个人账户目录。路径在：/home/用户名

- 如，当前用户是 itheima。其 home 目录是：/home/itheima
- windows 和 linux 系统，均设有用户的 home 目录

## 目录切换相关命令（cd/pwd）

### cd 切换工作目录

:::tip 提示
cd：change directory
:::

语法：`cd [linux路径]` 不写参数默认去 home 目录

~ 是 home 目录的意思。

1. 如果以超级用户 root 账号登陆：~ 是 /root 目录
2. 如果以普通用户 name 登陆：~是 /home/name 目录

### pwd 查看当前工作目录

:::tip 提示
pwd：print work directory

:::

语法：`pwd`

pwd 命令，无选项，无参数，直接输入

## 相对路径，绝对路径和特殊路径符

绝对路径：以根目录为起点，以`/`开头`cd /home/iteheima/Desktop`

相对路径：以当前目录为起点，无需以`/`开头`cd Desktop`

特殊路径符：

- `.`表示当前目录，比如`cd ./desktop` 表示切换到当前目录下的`desktop`目录内和`cd desktop`效果一样
- `..`表示上一级目录，比如：`cd ..` 切换到上一级，`cd ../..` 切换上一级的上一级目录
- `~ `表示 home 目录，比如：`cd ~`切换到 home 目录或者`cd ~/desktop`, 切换到 home 内的 desktop 目录

## 创建目录（mkdir）

:::tip 提示
mkdir：make directory
:::

语法：mkdir [-p] linux 路径

- 参数必填，需要创建的文件夹路径。
- -p 选项可选，表示自动创建不存在的父目录，适用于多层级的目录

```shell
mkdir -p ~/itcast/itheima/nice/666
```

## 文件操作

### touch，cat，more

语法：touch linux 路径\*

- touch 命令无选项，参数必填。

用于创建文件

```shell
touch test.txt #在当前目录下创建名为test的文件
```

- cat 命令 查看文件内容 语法：cat linux 路径

```shell
cat test.txt
```

- more 命令跟 cat 差不多，只不过 more 支持翻页。内容过多的，可以一页页的展示，空格翻页，q 退出查看

```shell
more test.txt
```

### cp，mv，rm

cp 用于复制

语法：`cp  [-r] 参数1 参数2`

- -r 选项，用于复制文件夹使用，表示递归
- 参数 1，表示复制的文件或文件夹
- 参数 2，复制去的地方

mv 用于移动

语法：`mv 参数1 参数2`

- 参数 1，表示移动的文件或文件夹
- 参数 2，表示要移动去的地方，如果目标不存在，则进行改名，确保目标存在。（有改名的效果）

rm 用于删除

语法：`rm [-r -f]参数1，参数2.....参数N`

- 同 cp 命令一样，-r 表示 recursion 选项用于删除文件夹，递归
- -f 表示 force。强制性的（不会弹出提示确认信息）
  - 普通用户删除内容不会弹出提示，只有 root 管理员用户删除内容会有提示
  - 所以一般普通用户用不到`-f`的选项
- 参数 1，参数 2.....参数 n，表示要删除的文件或文件夹路径，按照空格隔开。

rm 命令支持通配符\*，用来做模糊匹配

- 符号\*表示通配符。即匹配任意内容（包含空），
- test\*，表示匹配任何 test 开头的内容，
- \*test，表示匹配任何以 test 结尾的内容，
- \*test\*，表示匹配任何包含 test 的内容

```shell
rm -r test*
ls
```

可以通过 `su - root`，输入密码切换为 root 用户。

通过 exit 命令，退回普通用户

## 查找命令

which，find

which 命令可以查看 命令的程序文件所在位置，命令本体是二进制可执行程序，例：`which cd`

find 命令去可以搜索指定的文件，支持使用通配符

语法：`find 起始路径 -name '搜索的文件名'`

按照文件大小查找：

语法：`find 起始路径 -size +|- n[kMG]`

- +,-表示大于和小于
- n 代表大小数字
- kmg 表示单位，k（小写）表示 kb，M 表示 mb，G 表示 gb

```shell
find / -size -10m #查找小于10mb的文件
```

## grep,wc 和管道符 {#grep}

grep 命令，从文件中通过关键字查询文件行
语法：`grep [-n] '搜索的内容' 文件路径`

- -n 选项，表示显示行号
- 搜索的内容，表示要搜索的内容
- 文件路径，表示要搜索的文件路径

```shell
grep -n 'hello' test.txt
```

wc 命令，用于统计文件的内容（统计文件的行数，单词数，字符数，字节数）
语法：`wc [-c -m -l -w] 文件路径`

- -c 选项，表示 bytes 数
- -m 选项，表示统计字符数
- -l 选项，表示统计行数
- -w 选项，表示统计单词数

```shell
wc -l test.txt
```

管道符：`|`

管道符，表示将前一个命令的结果，作为后一个命令的输入

```shell
ls -l | grep 'hello'
```

## echo,tail 和重定向符

### echo

> 输出字符串到终端

语法：`echo [-e] 字符串`

- -e 选项，表示支持转义字符

```shell
echo 'hello world'
```

反引号`

例如：`echo pwd`
本意是想输出当前的工作路径，pwd 被当作字符串了。

```shell{2}
echo pwd
pwd
```

```shell{2}
echo `pwd`
/home/itheima
```

### tail

> 查看文件末尾的内容，跟踪文件的最新更改

语法：`tail [-f -num] 文件路径`

- -num 选项，表示显示的行数
- -f 选项，表示持续跟踪(类似于一直监听)

```shell
tail -n 5 test.txt
tail -5 test.txt
```

### 重定向符

> 重定向命令的输出到文件或其他命令

- `>` 将左侧的命令的结果，**覆盖**写入到符号右侧指定的文件中（文件如果不存在，则会自动创建）
- `>>` 将左侧的命令的结果，**追加**写入到符号右侧指定的文件中
- `<` 重定向符，表示输入文件内容

```shell
# 输出到文件
ls -l > file.txt
echo 'hello world' > test.txt

# 追加到文件
ls -l >> file.txt

# 输入文件内容
cat < file.txt

```

## vi\vim

> 编辑器，命令行下使用的文本编辑器

命令模式：命令模式下，所敲的按键编辑器都理解为命令，以命令驱动执行不同功能，此模型下不能自由进行文本编辑

输入模式：输入模式下，可以自由进行文本编辑，按下键盘上的字母键，编辑器会将其解释为对应的字符，并在屏幕上显示出来

底线模式：底线模式下，可以执行一些命令，如保存文件、退出编辑器等。在底线模式下，按下`:`，进入命令模式，可以输入命令

语法：`vi/vim 文件路径`

```shell
# 如果文件不存在，则创建文件，存在则打开文件
vi/vim test.txt
```

1. 进入编辑模式：按下`i`键，进入输入模式
2. 退出编辑模式：按下`esc`键，退出输入模式
3. 保存文件：按下`:`，进入底行模式，输入`wq`命令，保存并退出编辑器

`yy` 复制当前行

`dd` 删除当前行

`ndd` 删除当前行之后的 n 行 #3dd 删除三行

`gg` 移动到文件开头

`G` 移动到文件末尾

`dG` 从当前行开始，向下全部删除

`dgg` 从文件开头，向上全部删除

`d$` 从当前位置删除到行尾

`d0` 从当前位置删除到行首

`x` 删除光标所在的字符

`0` 移动到行首

`p` 粘贴

`u` 撤销

`/` 搜索

`n` 向下搜索

`N` 向上搜索

底线模式命令：

1. `:q` 退出编辑器
2. `:wq` 保存并退出编辑器
3. `:w` 保存文件
4. `:set nu` 显示行号
5. `:set nonu` 取消显示行号
6. `:set nu!` 强制显示行号
7. `:set paste` 进入粘贴模式，可以粘贴多行文本
8. `:set nopaste` 退出粘贴模式
9. `:! 命令` 执行系统命令

## linux 的 root 用户

> 超级用户，拥有最高权限，可以做任何操作，包括修改系统文件

语法：`su [-] [用户名]`

1. 切换到 root 用户：`su - root`
2. 退出 root 用户：`exit` 快捷键是`Ctrl+D`
3. 用户名省略，默认切换到 root
4. 使用普通用户，切换到其他用户需要输入密码
5. 使用 root 用户切换到其他用户，不需要输入密码

### sudo 命令

:::tip 提示
不建议长期使用 root 用户，可以使用 sudo 命令，为普通的命令授权，临时以 root 身份执行
:::

语法：`sudo 命令`

- 在其他命令之前，带上 sudo，表示以 root 身份执行命令
- 只有 root 用户才能执行 sudo 命令，普通用户无法执行
- 需要为普通用户配置 sudo 认证

1. 配置 sudo 认证：`visudo` 或者 `vi /etc/sudoers`
2. 编辑文件，写入 `用户名 ALL=(ALL)   NOPASSWD: ALL`
3. 保存并退出

## 用户和用户组

用户组管理

需要 `root` 用户才可以执行

- 创建用户组：`groupadd 组名`
- 删除用户组：`groupdel 组名`
- 修改用户组：`groupmod 组名`

用户管理

1. 创建用户：`useradd [-g -d] 用户名`
   - -g 选项，表示指定用户组,不指定，会创建同名组并自动加入，指定`-g`需要组已经存在，否则会报错
   - -d 选项，表示指定用户`home`目录，不指定，HOME 目录默认在：`/home/用户名`
2. 删除用户：`userdel [-r] 用户名`
   - -r 选项，表示删除用户 `home` 目录，默认当删除用户时，不删除 `home` 目录
3. 修改用户：`usermod [-g 组名] [-d 目录] 用户名`
4. 查看用户所属组 `id[用户名]`
5. 修改用户所属组 `usermod -aG 组名 用户名` 指定用户加入指定用户组

gentent <br>
使用 `gentent` 命令，可以查看当前系统有哪些用户
语法：`gentent passwd`

> 用户名：密码(x):用户 ID:组 ID:用户信息:主 Home 目录:shell(执行终端)

语法：`gentent group`

> itcast\:x\:1001: 组名称：组认证（x）:组 ID

## 查看权限控制

认知权限信息

drwxr-xr-x：

- 这是一个文件夹，首字母 d 表示
- 所属用户（图上序号 2）的权限是：有 r 有 w 有 x，rwx
- 所属用户组（图上序号 3）的权限是：有 r 无 w 有 x，r-x （-表示无此权限）
- 其他用户的权限：有 r 无 w 有 x，r-x

- `r` 表示可读，`w` 表示可写，`x` 表示可执行 `d` 表示目录，`-` 表示普通文件，`l` 表示链接文件，`b` 表示块设备文件，`c` 表示字符设备文件，`p` 表示管道文件

![权限控制信息](/assets/images/权限控制信息.png '权限控制信息')

## chmod 命令

> 修改文件或目录的权限

:::tip 提示
注意，只有文件，文件夹的所属用户或 root 用户可以修改
:::
语法：`chmod [-R] 权限 文件或文件夹`

- -R 选项，表示递归修改子目录及其子目录下的文件或文件夹的权限

示例：

- `chmod u=rwx,g=rwx,o=r hello.txt` #将文件或文件夹的所属用户(**u**)的权限设置为：读写执行，所属用户组(**g**)的权限设置为：读写执行，其他用户(**o**)的权限设置为：只读

## 压缩和解压命令

### 压缩命令

- tar：打包压缩文件
- gzip：压缩文件
- bzip2：压缩文件

语法：`tar [-cvf] 打包后的文件名 被打包的文件或目录`

- -c 选项，表示创建打包文件
- -v 选项，表示显示详细信息
- -f 选项，表示指定打包后的文件名

```shell
# 压缩文件
tar -cvf test.tar test.txt

# 压缩文件夹
tar -cvf test.tar test
```

### 解压命令

- tar：解压文件
- gzip：解压文件
- bzip2：解压文件
